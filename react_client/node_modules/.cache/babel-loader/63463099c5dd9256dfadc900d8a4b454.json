{"ast":null,"code":"var _jsxFileName = \"/home/crawlins/IdeaProjects/IOTAVis/reactClient/src/containers/TangleContainer.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Tangle from '../components/Tangle';\nimport { connect } from 'react-redux';\nimport * as d3Force from 'd3-force';\nimport { scaleLinear } from 'd3-scale';\nimport Slider from 'rc-slider';\nimport Tooltip from 'rc-tooltip';\nimport 'rc-slider/assets/index.css';\nimport 'rc-tooltip/assets/bootstrap.css';\nimport { getAncestors, getDescendants, getTips } from '../shared/algorithms';\nimport './radio-button.css';\nimport '../components/Tangle.css';\nimport SliderContainer from './SliderContainer';\nimport seedrandom from 'seedrandom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar myrng = new seedrandom('hello.');\n\nvar request = require('sync-request');\n\nconst mapStateToProps = (state, ownProps) => ({});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({});\n\nconst nodeRadiusMax = 25;\nconst nodeRadiusMin = 13;\nconst showLabelsMinimumRadius = 21;\n\nconst getNodeRadius = nodeCount => {\n  const smallNodeCount = 20;\n  const largeNodeCount = 100;\n\n  if (nodeCount < smallNodeCount) {\n    return nodeRadiusMax;\n  }\n\n  if (nodeCount > largeNodeCount) {\n    return nodeRadiusMin;\n  }\n\n  const scale = scaleLinear().domain([smallNodeCount, largeNodeCount]);\n  scale.range([nodeRadiusMax, nodeRadiusMin]);\n  return scale(nodeCount);\n};\n\nconst tipSelectionDictionary = {\n  'URTS': {\n    label: 'Uniform Random'\n  },\n  'UWRW': {\n    label: 'Unweighted Random Walk'\n  },\n  'WRW': {\n    label: 'Weighted Random Walk'\n  },\n  'EIOTA': {\n    label: 'E-IOTA (Best Param.)'\n  },\n  'AML': {\n    label: 'Adaptive Machine Learning (WIP)'\n  },\n  'almostURTS': {\n    label: 'Almost URTS'\n  }\n};\nconst leftMargin = 10;\nconst rightMargin = 10;\nconst bottomMargin = 190;\nconst nodeCountMin = 1;\nconst nodeCountMax = 500;\nconst nodeCountDefault = 200;\nconst lambdaMin = 0.1;\nconst lambdaMax = 50;\nconst lambdaDefault = 5;\nconst alphaMin = 0;\nconst alphaMax = 5;\nconst alphaDefault = 0.5;\nconst Handle = Slider.Handle;\n\nconst sliderHandle = props => {\n  const {\n    value,\n    dragging,\n    index,\n    ...restProps\n  } = props;\n  return /*#__PURE__*/_jsxDEV(Tooltip, {\n    prefixCls: \"rc-slider-tooltip\",\n    overlay: value,\n    visible: dragging,\n    placement: \"top\",\n    children: /*#__PURE__*/_jsxDEV(Handle, {\n      value: value,\n      ...restProps\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)\n  }, index, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n\nsliderHandle.propTypes = {\n  value: PropTypes.number.isRequired,\n  dragging: PropTypes.bool.isRequired,\n  index: PropTypes.number.isRequired\n};\n\nconst TipAlgorithmLabel = ({\n  selectedAlgorithm,\n  onChange,\n  algoKey\n}) => /*#__PURE__*/_jsxDEV(\"label\", {\n  className: \"container\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontSize: 10\n    },\n    children: tipSelectionDictionary[algoKey].label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n    type: \"radio\",\n    name: \"radio\",\n    value: algoKey,\n    checked: selectedAlgorithm === algoKey,\n    onChange: onChange\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"checkmark\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this)]\n}, algoKey, true, {\n  fileName: _jsxFileName,\n  lineNumber: 102,\n  columnNumber: 3\n}, this);\n\n_c = TipAlgorithmLabel;\nTipAlgorithmLabel.propTypes = {\n  selectedAlgorithm: PropTypes.string.isRequired,\n  onChange: PropTypes.any,\n  algoKey: PropTypes.string.isRequired\n};\n\nfunction cleanupData(tangleData) {\n  for (let node of tangleData.nodes) {\n    for (let link of tangleData.links) {\n      if (link.target.name == node.name) {\n        link.target = node;\n      }\n\n      if (link.source.name == node.name) {\n        link.source = node;\n      }\n    }\n  }\n\n  return tangleData;\n}\n\nclass TangleContainer extends React.Component {\n  constructor(props) {\n    super();\n\n    this.handleLambdaWindow = event => {\n      this.setState({\n        lambdaWindow: event.target.value\n      });\n    };\n\n    this.state = {\n      nodes: [],\n      links: [],\n      nodeCount: nodeCountDefault,\n      lambda: lambdaDefault,\n      alpha: alphaDefault,\n      width: 300,\n      // default values\n      height: 300,\n      nodeRadius: getNodeRadius(nodeCountDefault),\n      tipSelectionAlgorithm: 'URTS',\n      lambdaWindow: '0,0'\n    };\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n    this.force = d3Force.forceSimulation();\n    this.force.alphaDecay(0.2);\n    this.force.on('tick', () => {\n      this.force.nodes(this.state.nodes); // restrict nodes to window area\n\n      for (let node of this.state.nodes) {\n        // Fixed transactions in time label with 5*\n        node.y = Math.max(this.state.nodeRadius, Math.min(this.state.height - 5 * this.state.nodeRadius, node.y));\n      }\n\n      this.setState({\n        links: this.state.links,\n        nodes: this.state.nodes\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.force.stop();\n    window.removeEventListener('resize', this.updateWindowDimensions);\n  }\n\n  componentDidMount() {\n    this.startNewTangle();\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n  }\n\n  updateWindowDimensions() {\n    this.setState({\n      width: window.innerWidth - leftMargin - rightMargin,\n      height: window.innerWidth < 768 ? window.innerHeight : window.innerHeight - bottomMargin\n    }, () => {\n      this.recalculateFixedPositions();\n      this.force.force('no_collision', d3Force.forceCollide().radius(this.state.nodeRadius * 2).strength(0.01).iterations(15)).force('pin_y_to_center', d3Force.forceY().y(d => this.state.height / 2).strength(0.1)).force('pin_x_to_time', d3Force.forceX().x(d => this.xFromTime(d.time)).strength(1)).force('link', d3Force.forceLink().links(this.state.links).strength(0.5).distance(this.state.nodeRadius * 3)); // strength in [0,1]\n\n      this.force.restart().alpha(1);\n    });\n  }\n\n  startNewTangle() {\n    const nodeRadius = getNodeRadius(this.state.nodeCount);\n    const tangleInfo = {\n      nodeCount: this.state.nodeCount,\n      lambda: this.state.lambda,\n      alpha: this.state.alpha,\n      tipSelectionAlgorithm: this.state.tipSelectionAlgorithm,\n      lambdaWindow: this.state.lambdaWindow\n    }; // Make synchronous api call to python server to generate tangle\n\n    var res = request('POST', 'http://localhost:5000/createTangle', {\n      json: JSON.stringify(tangleInfo)\n    });\n    const temp = JSON.parse(res.getBody('utf8'));\n    const tangle = cleanupData(temp);\n    const {\n      width,\n      height\n    } = this.state;\n\n    for (let node of tangle.nodes) {\n      node.y = height / 4 + myrng() * (height / 2), node.x = width / 2; // required to avoid annoying errors\n    }\n\n    this.force.stop();\n    this.setState({\n      nodes: tangle.nodes,\n      links: tangle.links,\n      nodeRadius\n    }, () => {\n      // Set all nodes' x by time value after state has been set\n      this.recalculateFixedPositions();\n    });\n    this.force.restart().alpha(1);\n  }\n\n  recalculateFixedPositions() {\n    // Set genesis's y to center\n    const genesisNode = this.state.nodes[0];\n    genesisNode.fx = this.setState.height / 2;\n\n    for (let node of this.state.nodes) {\n      node.fx = this.xFromTime(node.time);\n    }\n  }\n\n  xFromTime(time) {\n    const padding = this.state.nodeRadius; // Avoid edge cases with 0 or 1 nodes\n\n    if (this.state.nodes.length < 2) {\n      return padding;\n    }\n\n    const maxTime = this.state.nodes[this.state.nodes.length - 1].time; // Rescale nodes' x to cover [margin, width-margin]\n\n    const scale = scaleLinear().domain([0, maxTime]);\n    scale.range([padding, this.state.width - padding]);\n    return scale(time);\n  }\n\n  mouseEntersNodeHandler(e) {\n    const name = e.target.getAttribute('name');\n    this.setState({\n      hoveredNode: this.state.nodes.find(node => node.name === name)\n    });\n  }\n\n  mouseLeavesNodeHandler(e) {\n    this.setState({\n      hoveredNode: undefined\n    });\n  }\n\n  getApprovedNodes(root) {\n    if (!root) {\n      return {\n        nodes: new Set(),\n        links: new Set()\n      };\n    }\n\n    return getDescendants({\n      nodes: this.state.nodes,\n      links: this.state.links,\n      root\n    });\n  }\n\n  getApprovingNodes(root) {\n    if (!root) {\n      return {\n        nodes: new Set(),\n        links: new Set()\n      };\n    }\n\n    return getAncestors({\n      nodes: this.state.nodes,\n      links: this.state.links,\n      root\n    });\n  }\n\n  handleTipSelectionRadio(event) {\n    this.setState({\n      tipSelectionAlgorithm: event.target.value\n    }, () => {\n      this.startNewTangle();\n    });\n  }\n\n  render() {\n    const {\n      nodeCount,\n      lambda,\n      alpha,\n      width,\n      height\n    } = this.state;\n    const approved = this.getApprovedNodes(this.state.hoveredNode);\n    const approving = this.getApprovingNodes(this.state.hoveredNode);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top-bar-container\",\n        style: {\n          width\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left-cell\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"right-cell\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top-bar-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-title\",\n            children: \"Number of transactions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-container\",\n            children: /*#__PURE__*/_jsxDEV(SliderContainer, {\n              min: nodeCountMin,\n              max: nodeCountMax,\n              defaultValue: nodeCountDefault,\n              value: nodeCount,\n              step: 1,\n              marks: {\n                [nodeCountMin]: `${nodeCountMin}`,\n                [nodeCountMax]: `${nodeCountMax}`\n              },\n              handle: sliderHandle,\n              onChange: nodeCount => {\n                this.setState(Object.assign(this.state, {\n                  nodeCount\n                }));\n                this.startNewTangle();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tip-algo-label\",\n            children: /*#__PURE__*/_jsxDEV(TipAlgorithmLabel, {\n              algoKey: \"URTS\",\n              selectedAlgorithm: this.state.tipSelectionAlgorithm,\n              onChange: this.handleTipSelectionRadio.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top-bar-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-title\",\n            children: \"Transaction rate (\\u03BB)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-container\",\n            children: /*#__PURE__*/_jsxDEV(SliderContainer, {\n              min: lambdaMin,\n              max: lambdaMax,\n              step: 0.25,\n              defaultValue: lambdaDefault,\n              value: lambda,\n              marks: {\n                [lambdaMin]: `${lambdaMin}`,\n                [lambdaMax]: `${lambdaMax}`\n              },\n              handle: sliderHandle,\n              onChange: lambda => {\n                this.setState(Object.assign(this.state, {\n                  lambda\n                }));\n                this.startNewTangle();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tip-algo-label\",\n            children: /*#__PURE__*/_jsxDEV(TipAlgorithmLabel, {\n              algoKey: \"UWRW\",\n              selectedAlgorithm: this.state.tipSelectionAlgorithm,\n              onChange: this.handleTipSelectionRadio.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top-bar-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-title\",\n            children: \"alpha\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-container\",\n            children: /*#__PURE__*/_jsxDEV(SliderContainer, {\n              min: alphaMin,\n              max: alphaMax,\n              step: 0.01,\n              defaultValue: alphaDefault,\n              value: alpha,\n              marks: {\n                [alphaMin]: `${alphaMin}`,\n                [alphaMax]: `${alphaMax}`\n              },\n              handle: sliderHandle,\n              disabled: this.state.tipSelectionAlgorithm !== 'WRW' && this.state.tipSelectionAlgorithm !== 'AML',\n              onChange: alpha => {\n                this.setState(Object.assign(this.state, {\n                  alpha\n                }));\n                this.startNewTangle();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tip-algo-label\",\n            children: /*#__PURE__*/_jsxDEV(TipAlgorithmLabel, {\n              algoKey: \"WRW\",\n              selectedAlgorithm: this.state.tipSelectionAlgorithm,\n              onChange: this.handleTipSelectionRadio.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top-bar-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tip-algo-label\",\n            children: /*#__PURE__*/_jsxDEV(TipAlgorithmLabel, {\n              algoKey: \"EIOTA\",\n              selectedAlgorithm: this.state.tipSelectionAlgorithm,\n              onChange: this.handleTipSelectionRadio.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top-bar-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-title\",\n            children: \"Lambda Step Values\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"lambdaWindow\",\n              value: this.state.lambdaWindow\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-default\",\n              onClick: this.startNewTangle(),\n              children: \"Run\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tip-algo-label\",\n            children: /*#__PURE__*/_jsxDEV(TipAlgorithmLabel, {\n              algoKey: \"AML\",\n              selectedAlgorithm: this.state.tipSelectionAlgorithm,\n              onChange: this.handleTipSelectionRadio.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top-bar-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tip-algo-label\",\n            children: /*#__PURE__*/_jsxDEV(TipAlgorithmLabel, {\n              algoKey: \"almostURTS\",\n              selectedAlgorithm: this.state.tipSelectionAlgorithm,\n              onChange: this.handleTipSelectionRadio.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tangle, {\n        links: this.state.links,\n        nodes: this.state.nodes,\n        nodeCount: 6,\n        width: width,\n        height: height,\n        leftMargin: leftMargin,\n        rightMargin: rightMargin,\n        nodeRadius: this.state.nodeRadius,\n        mouseEntersNodeHandler: this.mouseEntersNodeHandler.bind(this),\n        mouseLeavesNodeHandler: this.mouseLeavesNodeHandler.bind(this),\n        approvedNodes: approved.nodes,\n        approvedLinks: approved.links,\n        approvingNodes: approving.nodes,\n        approvingLinks: approving.links,\n        hoveredNode: this.state.hoveredNode,\n        tips: getTips({\n          nodes: this.state.nodes,\n          links: this.state.links\n        }),\n        showLabels: this.state.nodeRadius > showLabelsMinimumRadius ? true : false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst TangleContainerConnected = connect(mapStateToProps, mapDispatchToProps)(TangleContainer);\nexport default TangleContainerConnected;\n\nvar _c;\n\n$RefreshReg$(_c, \"TipAlgorithmLabel\");","map":{"version":3,"sources":["/home/crawlins/IdeaProjects/IOTAVis/reactClient/src/containers/TangleContainer.js"],"names":["React","PropTypes","Tangle","connect","d3Force","scaleLinear","Slider","Tooltip","getAncestors","getDescendants","getTips","SliderContainer","seedrandom","myrng","request","require","mapStateToProps","state","ownProps","mapDispatchToProps","dispatch","nodeRadiusMax","nodeRadiusMin","showLabelsMinimumRadius","getNodeRadius","nodeCount","smallNodeCount","largeNodeCount","scale","domain","range","tipSelectionDictionary","label","leftMargin","rightMargin","bottomMargin","nodeCountMin","nodeCountMax","nodeCountDefault","lambdaMin","lambdaMax","lambdaDefault","alphaMin","alphaMax","alphaDefault","Handle","sliderHandle","props","value","dragging","index","restProps","propTypes","number","isRequired","bool","TipAlgorithmLabel","selectedAlgorithm","onChange","algoKey","fontSize","string","any","cleanupData","tangleData","node","nodes","link","links","target","name","source","TangleContainer","Component","constructor","handleLambdaWindow","event","setState","lambdaWindow","lambda","alpha","width","height","nodeRadius","tipSelectionAlgorithm","updateWindowDimensions","bind","force","forceSimulation","alphaDecay","on","y","Math","max","min","componentWillUnmount","stop","window","removeEventListener","componentDidMount","startNewTangle","addEventListener","innerWidth","innerHeight","recalculateFixedPositions","forceCollide","radius","strength","iterations","forceY","d","forceX","x","xFromTime","time","forceLink","distance","restart","tangleInfo","res","json","JSON","stringify","temp","parse","getBody","tangle","genesisNode","fx","padding","length","maxTime","mouseEntersNodeHandler","e","getAttribute","hoveredNode","find","mouseLeavesNodeHandler","undefined","getApprovedNodes","root","Set","getApprovingNodes","handleTipSelectionRadio","render","approved","approving","Object","assign","TangleContainerConnected"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Tangle from '../components/Tangle';\nimport {connect} from 'react-redux';\nimport * as d3Force from 'd3-force';\nimport {scaleLinear} from 'd3-scale';\nimport Slider from 'rc-slider';\nimport Tooltip from 'rc-tooltip';\nimport 'rc-slider/assets/index.css';\nimport 'rc-tooltip/assets/bootstrap.css';\nimport {getAncestors, getDescendants, getTips} from '../shared/algorithms';\nimport './radio-button.css';\nimport '../components/Tangle.css';\nimport SliderContainer from './SliderContainer';\nimport seedrandom from 'seedrandom';\nvar myrng = new seedrandom('hello.');\nvar request = require('sync-request')\n\nconst mapStateToProps = (state, ownProps) => ({});\nconst mapDispatchToProps = (dispatch, ownProps) => ({});\n\n\n\nconst nodeRadiusMax = 25;\nconst nodeRadiusMin = 13;\nconst showLabelsMinimumRadius = 21;\nconst getNodeRadius = nodeCount => {\n  const smallNodeCount = 20;\n  const largeNodeCount = 100;\n\n  if (nodeCount < smallNodeCount) {\n    return nodeRadiusMax;\n  }\n  if (nodeCount > largeNodeCount) {\n    return nodeRadiusMin;\n  }\n  const scale = scaleLinear().domain([smallNodeCount, largeNodeCount]);\n  scale.range([nodeRadiusMax, nodeRadiusMin]);\n\n  return scale(nodeCount);\n};\n\nconst tipSelectionDictionary = {\n  'URTS': {\n    label: 'Uniform Random',\n  },\n  'UWRW': {\n    label: 'Unweighted Random Walk',\n  },\n  'WRW': {\n    label: 'Weighted Random Walk',\n  },\n\n  'EIOTA':{\n    label:  'E-IOTA (Best Param.)',\n  },\n  'AML':{\n    label: 'Adaptive Machine Learning (WIP)'\n  },\n  'almostURTS':{\n    label: 'Almost URTS',\n  }\n\n};\n\nconst leftMargin = 10;\nconst rightMargin = 10;\nconst bottomMargin = 190;\nconst nodeCountMin = 1;\nconst nodeCountMax = 500;\nconst nodeCountDefault = 200;\nconst lambdaMin = 0.1;\nconst lambdaMax = 50;\nconst lambdaDefault = 5;\nconst alphaMin = 0;\nconst alphaMax = 5;\nconst alphaDefault = 0.5;\n\nconst Handle = Slider.Handle;\nconst sliderHandle = props => {\n  const {value, dragging, index, ...restProps} = props;\n  return (\n    <Tooltip\n      prefixCls='rc-slider-tooltip'\n      overlay={value}\n      visible={dragging}\n      placement='top'\n      key={index}\n    >\n      <Handle value={value} {...restProps} />\n    </Tooltip>\n  );\n};\n\nsliderHandle.propTypes = {\n  value: PropTypes.number.isRequired,\n  dragging: PropTypes.bool.isRequired,\n  index: PropTypes.number.isRequired,\n};\n\nconst TipAlgorithmLabel = ({selectedAlgorithm, onChange, algoKey}) =>\n  <label className='container' key={algoKey}>\n    <div style={{fontSize: 10}}>\n      {tipSelectionDictionary[algoKey].label}\n    </div>\n    <input type='radio' name='radio' value={algoKey}\n      checked={selectedAlgorithm === algoKey}\n      onChange={onChange}\n    />\n    <span className='checkmark'></span>\n  </label>;\n\nTipAlgorithmLabel.propTypes = {\n  selectedAlgorithm: PropTypes.string.isRequired,\n  onChange: PropTypes.any,\n  algoKey: PropTypes.string.isRequired,\n};\n\nfunction cleanupData(tangleData){\n\n  for (let node of tangleData.nodes) {\n    for (let link of tangleData.links){\n      if (link.target.name == node.name){\n        link.target = node\n      }\n      if (link.source.name == node.name){\n        link.source = node\n      }\n    }\n  }\n\n  return tangleData\n}\n\n\n\nclass TangleContainer extends React.Component {\n  constructor(props) {\n    super();\n\n    this.state = {\n      nodes: [],\n      links: [],\n      nodeCount: nodeCountDefault,\n      lambda: lambdaDefault,\n      alpha: alphaDefault,\n      width: 300, // default values\n      height: 300,\n      nodeRadius: getNodeRadius(nodeCountDefault),\n      tipSelectionAlgorithm: 'URTS',\n      lambdaWindow:'0,0'\n    };\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n\n    this.force = d3Force.forceSimulation();\n    this.force.alphaDecay(0.2);\n\n    this.force.on('tick', () => {\n      this.force.nodes(this.state.nodes);\n\n      // restrict nodes to window area\n      for (let node of this.state.nodes) {\n        // Fixed transactions in time label with 5*\n        node.y = Math.max(this.state.nodeRadius, Math.min(this.state.height - 5 * this.state.nodeRadius, node.y));\n      }\n\n      this.setState({\n        links: this.state.links,\n        nodes: this.state.nodes,\n      });\n    });\n  }\n  componentWillUnmount() {\n    this.force.stop();\n    window.removeEventListener('resize', this.updateWindowDimensions);\n  }\n  componentDidMount() {\n    this.startNewTangle();\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n  }\n\n  updateWindowDimensions() {\n    this.setState({\n      width: window.innerWidth - leftMargin - rightMargin,\n      height: window.innerWidth < 768 ? window.innerHeight : window.innerHeight - bottomMargin,\n    }, () => {\n      this.recalculateFixedPositions();\n      this.force\n        .force('no_collision', d3Force.forceCollide().radius(this.state.nodeRadius * 2).strength(0.01).iterations(15))\n        .force('pin_y_to_center', d3Force.forceY().y(d => this.state.height / 2).strength(0.1))\n        .force('pin_x_to_time', d3Force.forceX().x(d => this.xFromTime(d.time)).strength(1))\n        .force('link', d3Force.forceLink().links(this.state.links).strength(0.5).distance(this.state.nodeRadius*3)); // strength in [0,1]\n\n      this.force.restart().alpha(1);\n    });\n  }\n\n  startNewTangle() {\n    const nodeRadius = getNodeRadius(this.state.nodeCount);\n\n    const tangleInfo = {\n      nodeCount: this.state.nodeCount,\n      lambda: this.state.lambda,\n      alpha: this.state.alpha,\n      tipSelectionAlgorithm: this.state.tipSelectionAlgorithm,\n      lambdaWindow:this.state.lambdaWindow\n    }\n\n    // Make synchronous api call to python server to generate tangle\n    var res = request('POST','http://localhost:5000/createTangle',{json:JSON.stringify(tangleInfo)});\n    const temp = JSON.parse(res.getBody('utf8'))\n    const tangle = cleanupData(temp)\n\n    const {width, height} = this.state;\n\n    for (let node of tangle.nodes) {\n      node.y = height/4 + myrng()*(height/2),\n      node.x = width/2; // required to avoid annoying errors\n    }\n\n    this.force.stop();\n\n    this.setState({\n      nodes: tangle.nodes,\n      links: tangle.links,\n      nodeRadius,\n    }, () => {\n      // Set all nodes' x by time value after state has been set\n      this.recalculateFixedPositions();\n    });\n\n    this.force.restart().alpha(1);\n  }\n  recalculateFixedPositions() {\n    // Set genesis's y to center\n    const genesisNode = this.state.nodes[0];\n    genesisNode.fx = this.setState.height / 2;\n\n    for (let node of this.state.nodes) {\n      node.fx = this.xFromTime(node.time);\n    }\n  }\n  xFromTime(time) {\n    const padding = this.state.nodeRadius;\n    // Avoid edge cases with 0 or 1 nodes\n    if (this.state.nodes.length < 2) {\n      return padding;\n    }\n\n    const maxTime = this.state.nodes[this.state.nodes.length-1].time;\n\n    // Rescale nodes' x to cover [margin, width-margin]\n    const scale = scaleLinear().domain([0, maxTime]);\n    scale.range([padding, this.state.width - padding]);\n\n    return scale(time);\n  }\n  mouseEntersNodeHandler(e) {\n    const name = e.target.getAttribute('name');\n    this.setState({\n      hoveredNode: this.state.nodes.find(node => node.name === name),\n    });\n  }\n  mouseLeavesNodeHandler(e) {\n    this.setState({\n      hoveredNode: undefined,\n    });\n  }\n  getApprovedNodes(root) {\n    if (!root) {\n      return {nodes: new Set(), links: new Set()};\n    }\n\n    return getDescendants({\n      nodes: this.state.nodes,\n      links: this.state.links,\n      root,\n    });\n  }\n  getApprovingNodes(root) {\n    if (!root) {\n      return {nodes: new Set(), links: new Set()};\n    }\n\n    return getAncestors({\n      nodes: this.state.nodes,\n      links: this.state.links,\n      root,\n    });\n  }\n\n  handleLambdaWindow = (event) => {\n    this.setState({lambdaWindow:event.target.value});\n\n  }\n\n  handleTipSelectionRadio(event) {\n    this.setState({\n      tipSelectionAlgorithm: event.target.value,\n    }, () => {\n      this.startNewTangle();\n    });\n  }\n  render() {\n    const {nodeCount,lambda,alpha, width, height} = this.state;\n    const approved = this.getApprovedNodes(this.state.hoveredNode);\n    const approving = this.getApprovingNodes(this.state.hoveredNode);\n\n    return (\n      <div>\n        <div className='top-bar-container' style={{width}}>\n          <div className='left-cell'></div>\n          <div className='right-cell'></div>\n          <div className='top-bar-row'>\n            <div className='slider-title'>Number of transactions</div>\n            <div className='slider-container'>\n              <SliderContainer\n                min={nodeCountMin}\n                max={nodeCountMax}\n                defaultValue={nodeCountDefault}\n                value={nodeCount}\n                step={1}\n                marks={{[nodeCountMin]: `${nodeCountMin}`, [nodeCountMax]: `${nodeCountMax}`}}\n                handle={sliderHandle}\n                onChange={nodeCount => {\n                  this.setState(Object.assign(this.state, {nodeCount}));\n                  this.startNewTangle();\n                }} />\n            </div>\n            <div className='tip-algo-label'>\n              <TipAlgorithmLabel\n                algoKey='URTS'\n                selectedAlgorithm={this.state.tipSelectionAlgorithm}\n                onChange={this.handleTipSelectionRadio.bind(this)} />\n            </div>\n          </div>\n          <div className='top-bar-row'>\n            <div className='slider-title'>Transaction rate (Î»)</div>\n            <div className='slider-container'>\n              <SliderContainer\n                min={lambdaMin}\n                max={lambdaMax}\n                step={0.25}\n                defaultValue={lambdaDefault}\n                value={lambda}\n                marks={{[lambdaMin]: `${lambdaMin}`, [lambdaMax]: `${lambdaMax}`}}\n                handle={sliderHandle}\n                onChange={lambda => {\n                  this.setState(Object.assign(this.state, {lambda}));\n                  this.startNewTangle();\n                }} />\n            </div>\n            <div className='tip-algo-label'>\n              <TipAlgorithmLabel\n                algoKey='UWRW'\n                selectedAlgorithm={this.state.tipSelectionAlgorithm}\n                onChange={this.handleTipSelectionRadio.bind(this)} />\n            </div>\n          </div>\n          <div className='top-bar-row'>\n            <div className='slider-title'>alpha</div>\n            <div className='slider-container'>\n              <SliderContainer\n                min={alphaMin}\n                max={alphaMax}\n                step={0.01}\n                defaultValue={alphaDefault}\n                value={alpha}\n                marks={{[alphaMin]: `${alphaMin}`, [alphaMax]: `${alphaMax}`}}\n                handle={sliderHandle}\n                disabled={(this.state.tipSelectionAlgorithm !== 'WRW') && (this.state.tipSelectionAlgorithm !== 'AML')}\n                onChange={alpha => {\n                  this.setState(Object.assign(this.state, {alpha}));\n                  this.startNewTangle();\n                }} />\n            </div>\n            <div className='tip-algo-label'>\n              <TipAlgorithmLabel\n                algoKey='WRW'\n                selectedAlgorithm={this.state.tipSelectionAlgorithm}\n                onChange={this.handleTipSelectionRadio.bind(this)} />\n            </div>\n\n          </div>\n          <div className='top-bar-row'>\n            {/*Empty divs for additional algorithms*/}\n              <div></div>\n            <div></div>\n            <div className='tip-algo-label'>\n              <TipAlgorithmLabel\n                  algoKey='EIOTA'\n                  selectedAlgorithm={this.state.tipSelectionAlgorithm}\n                  onChange={this.handleTipSelectionRadio.bind(this)} />\n            </div>\n          </div>\n          <div className='top-bar-row'>\n\n            {/*Empty divs for additional ml algorithms*/}\n            <div className='slider-title'>Lambda Step Values</div>\n            <div className='slider-container'>\n              <input name='lambdaWindow' value={this.state.lambdaWindow} ></input>\n              <button\n                  className=\"btn btn-default\"\n                  onClick={this.startNewTangle()}>Run</button>\n\n            </div>\n            <div className='tip-algo-label'>\n              <TipAlgorithmLabel\n                  algoKey='AML'\n                  selectedAlgorithm={this.state.tipSelectionAlgorithm}\n                  onChange={this.handleTipSelectionRadio.bind(this)} />\n            </div>\n          </div>\n          <div className='top-bar-row'>\n\n            {/*Empty divs for additional ml algorithms*/}\n            <div>\n            </div>\n            <div>\n            </div>\n            <div className='tip-algo-label'>\n              <TipAlgorithmLabel\n                  algoKey='almostURTS'\n                  selectedAlgorithm={this.state.tipSelectionAlgorithm}\n                  onChange={this.handleTipSelectionRadio.bind(this)} />\n            </div>\n          </div>\n        </div>\n        <Tangle links={this.state.links} nodes={this.state.nodes}\n          nodeCount={6}\n          width={width}\n          height={height}\n          leftMargin={leftMargin}\n          rightMargin={rightMargin}\n          nodeRadius={this.state.nodeRadius}\n          mouseEntersNodeHandler={this.mouseEntersNodeHandler.bind(this)}\n          mouseLeavesNodeHandler={this.mouseLeavesNodeHandler.bind(this)}\n          approvedNodes={approved.nodes}\n          approvedLinks={approved.links}\n          approvingNodes={approving.nodes}\n          approvingLinks={approving.links}\n          hoveredNode={this.state.hoveredNode}\n          tips={getTips({\n            nodes: this.state.nodes,\n            links: this.state.links,\n          })}\n          showLabels={this.state.nodeRadius > showLabelsMinimumRadius ? true : false}\n        />\n      </div>\n    );\n  }\n}\n\nconst TangleContainerConnected = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TangleContainer);\n\nexport default TangleContainerConnected;\n"]},"metadata":{},"sourceType":"module"}